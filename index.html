<html>
<head>
    <title>Websocket</title>
    <script type="text/javascript">
    var ws = null;
    function init() {
        if ("WebSocket" in window) {
            ws = new WebSocket("ws://127.0.0.1:8888/ws/");
            ws.onopen = function() {
                console.log("Connection is opened");
            }
            ws.onclose = function() {
                console.log("Connection is closed");
            }
            ws.onmessage = function(msg) {
                var element = document.createElement("div");
                element.appendChild(document.createTextNode(msg.data));
                document.getElementById('display').appendChild(element);
            }    
        } else {
            console.log('Your browser doenst support WebSocket!')
        }
    }

    function send() {
        ws.send(document.getElementById("txt").value);
        document.getElementById("txt").value = "";
    }
    </script>
</head>
<body onload="init();">
    <h2>Try websocket</h2>
    <input type="text" id="txt">
    <input type="button" onclick="send()" value="Send">
    <h3>Response:</h3>
    <div id="display">
        <p id="para"></p>
    </div>
</body>
</html>
